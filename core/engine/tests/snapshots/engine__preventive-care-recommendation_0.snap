---
source: core/engine/tests/engine.rs
expression: serialized_result
---
performance: "[perf]"
result:
  patientName: Jane Smith
  recommendationDate: "2025-08-20 09:43:15"
  summarizedRecommendations:
    - riskBasedRecommendations: Earlier and more frequent diabetes screening
    - riskBasedRecommendations: Earlier and more frequent mammograms
    - riskBasedRecommendations: Lung cancer screening
    - ageBasedRecommendations:
        primary: Blood pressure screening
        quaternary: Eye exam every 2-4 years
        secondary: Cholesterol screening every 5 years
        tertiary: Diabetes screening every 3 years
    - genderBasedRecommendations:
        primary: Mammogram every 1-2 years (discuss with doctor)
        secondary: Cervical cancer screening every 3 years
  totalRecommendations:
    "$serde_json::private::Number": "5"
trace:
  ageSpecificScreenings:
    id: ageSpecificScreenings
    input:
      age:
        "$serde_json::private::Number": "42"
      familyHistory:
        - breast cancer
        - diabetes
      firstName: Jane
      lastCheckup: 2023-10-15
      lastName: Smith
      riskFactors:
        - smoking
      sex: female
    name: ageBasedRecommendations
    order:
      "$serde_json::private::Number": "1"
    output:
      age:
        "$serde_json::private::Number": "42"
      familyHistory:
        - breast cancer
        - diabetes
      firstName: Jane
      lastCheckup: 2023-10-15
      lastName: Smith
      recommendations:
        age:
          - recommendations:
              ageBasedRecommendations:
                primary: Blood pressure screening
                quaternary: Eye exam every 2-4 years
                secondary: Cholesterol screening every 5 years
                tertiary: Diabetes screening every 3 years
      riskFactors:
        - smoking
      sex: female
    performance: "[perf]"
    traceData:
      - index:
          "$serde_json::private::Number": "2"
        reference_map:
          age:
            "$serde_json::private::Number": "42"
        rule:
          _id: age3
          "age[i1]": ">= 40 and < 50"
  genderSpecificScreenings:
    id: genderSpecificScreenings
    input:
      age:
        "$serde_json::private::Number": "42"
      familyHistory:
        - breast cancer
        - diabetes
      firstName: Jane
      lastCheckup: 2023-10-15
      lastName: Smith
      recommendations:
        age:
          - recommendations:
              ageBasedRecommendations:
                primary: Blood pressure screening
                quaternary: Eye exam every 2-4 years
                secondary: Cholesterol screening every 5 years
                tertiary: Diabetes screening every 3 years
      riskFactors:
        - smoking
      sex: female
    name: sexBasedRecommendations
    order:
      "$serde_json::private::Number": "2"
    output:
      age:
        "$serde_json::private::Number": "42"
      familyHistory:
        - breast cancer
        - diabetes
      firstName: Jane
      lastCheckup: 2023-10-15
      lastName: Smith
      recommendations:
        age:
          - recommendations:
              ageBasedRecommendations:
                primary: Blood pressure screening
                quaternary: Eye exam every 2-4 years
                secondary: Cholesterol screening every 5 years
                tertiary: Diabetes screening every 3 years
        sex:
          - recommendations:
              genderBasedRecommendations:
                primary: Mammogram every 1-2 years (discuss with doctor)
                secondary: Cervical cancer screening every 3 years
      riskFactors:
        - smoking
      sex: female
    performance: "[perf]"
    traceData:
      - index:
          "$serde_json::private::Number": "2"
        reference_map:
          age:
            "$serde_json::private::Number": "42"
          sex: female
        rule:
          _id: gender3
          "age[i2]": "[40..50)"
          "sex[i1]": "'female'"
  generateRecommendations:
    id: generateRecommendations
    input:
      age:
        "$serde_json::private::Number": "42"
      familyHistory:
        - breast cancer
        - diabetes
      firstName: Jane
      lastCheckup: 2023-10-15
      lastName: Smith
      recommendations:
        age:
          - recommendations:
              ageBasedRecommendations:
                primary: Blood pressure screening
                quaternary: Eye exam every 2-4 years
                secondary: Cholesterol screening every 5 years
                tertiary: Diabetes screening every 3 years
        risk:
          - recommendations:
              riskBasedRecommendations: Earlier and more frequent diabetes screening
          - recommendations:
              riskBasedRecommendations: Earlier and more frequent mammograms
          - recommendations:
              riskBasedRecommendations: Lung cancer screening
        sex:
          - recommendations:
              genderBasedRecommendations:
                primary: Mammogram every 1-2 years (discuss with doctor)
                secondary: Cervical cancer screening every 3 years
      riskFactors:
        - smoking
      sex: female
    name: finalRecommendations
    order:
      "$serde_json::private::Number": "4"
    output:
      patientName: Jane Smith
      recommendationDate: "2025-08-20 09:43:15"
      summarizedRecommendations:
        - riskBasedRecommendations: Earlier and more frequent diabetes screening
        - riskBasedRecommendations: Earlier and more frequent mammograms
        - riskBasedRecommendations: Lung cancer screening
        - ageBasedRecommendations:
            primary: Blood pressure screening
            quaternary: Eye exam every 2-4 years
            secondary: Cholesterol screening every 5 years
            tertiary: Diabetes screening every 3 years
        - genderBasedRecommendations:
            primary: Mammogram every 1-2 years (discuss with doctor)
            secondary: Cervical cancer screening every 3 years
      testResults: ~
      totalRecommendations:
        "$serde_json::private::Number": "5"
    performance: "[perf]"
    traceData:
      patientName:
        result: "\"Jane Smith\""
      recommendationDate:
        result: "\"2025-08-20 09:43:15\""
      summarizedRecommendations:
        result: "[{\"riskBasedRecommendations\":\"Earlier and more frequent diabetes screening\"},{\"riskBasedRecommendations\":\"Earlier and more frequent mammograms\"},{\"riskBasedRecommendations\":\"Lung cancer screening\"},{\"ageBasedRecommendations\":{\"tertiary\":\"Diabetes screening every 3 years\",\"primary\":\"Blood pressure screening\",\"quaternary\":\"Eye exam every 2-4 years\",\"secondary\":\"Cholesterol screening every 5 years\"}},{\"genderBasedRecommendations\":{\"secondary\":\"Cervical cancer screening every 3 years\",\"primary\":\"Mammogram every 1-2 years (discuss with doctor)\"}}]"
      testResults:
        result: "null"
      totalRecommendations:
        result: "5"
  input:
    id: input
    input: ~
    name: patientData
    order:
      "$serde_json::private::Number": "0"
    output:
      age:
        "$serde_json::private::Number": "42"
      familyHistory:
        - breast cancer
        - diabetes
      firstName: Jane
      lastCheckup: 2023-10-15
      lastName: Smith
      riskFactors:
        - smoking
      sex: female
    performance: "[perf]"
    traceData: ~
  riskFactorScreenings:
    id: riskFactorScreenings
    input:
      age:
        "$serde_json::private::Number": "42"
      familyHistory:
        - breast cancer
        - diabetes
      firstName: Jane
      lastCheckup: 2023-10-15
      lastName: Smith
      recommendations:
        age:
          - recommendations:
              ageBasedRecommendations:
                primary: Blood pressure screening
                quaternary: Eye exam every 2-4 years
                secondary: Cholesterol screening every 5 years
                tertiary: Diabetes screening every 3 years
        sex:
          - recommendations:
              genderBasedRecommendations:
                primary: Mammogram every 1-2 years (discuss with doctor)
                secondary: Cervical cancer screening every 3 years
      riskFactors:
        - smoking
      sex: female
    name: riskBasedRecommendations
    order:
      "$serde_json::private::Number": "3"
    output:
      age:
        "$serde_json::private::Number": "42"
      familyHistory:
        - breast cancer
        - diabetes
      firstName: Jane
      lastCheckup: 2023-10-15
      lastName: Smith
      recommendations:
        age:
          - recommendations:
              ageBasedRecommendations:
                primary: Blood pressure screening
                quaternary: Eye exam every 2-4 years
                secondary: Cholesterol screening every 5 years
                tertiary: Diabetes screening every 3 years
        risk:
          - recommendations:
              riskBasedRecommendations: Earlier and more frequent diabetes screening
          - recommendations:
              riskBasedRecommendations: Earlier and more frequent mammograms
          - recommendations:
              riskBasedRecommendations: Lung cancer screening
        sex:
          - recommendations:
              genderBasedRecommendations:
                primary: Mammogram every 1-2 years (discuss with doctor)
                secondary: Cervical cancer screening every 3 years
      riskFactors:
        - smoking
      sex: female
    performance: "[perf]"
    traceData:
      - index:
          "$serde_json::private::Number": "0"
        reference_map: {}
        rule:
          _id: risk1
      - index:
          "$serde_json::private::Number": "3"
        reference_map: {}
        rule:
          _id: risk4
      - index:
          "$serde_json::private::Number": "4"
        reference_map: {}
        rule:
          _id: risk5
