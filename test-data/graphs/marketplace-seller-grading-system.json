{
  "tests": [
    {
      "input": {
        "metrics": {
          "onTimeDeliveryRate": 96.5,
          "customerSatisfaction": 4.7,
          "inventoryAccuracy": 97.2,
          "policyCompliance": 94.8
        },
        "sellerInfo": {
          "id": "S12345",
          "name": "Global Gadgets Store",
          "monthsActive": 18
        }
      },
      "output": {
        "grade": "B",
        "recommendedAction": "Eligible for featured seller status",
        "status": "Good"
      }
    }
  ],
  "nodes": [
    {
      "type": "inputNode",
      "content": {
        "schema": ""
      },
      "id": "ip1",
      "name": "request",
      "position": {
        "x": 110,
        "y": 114
      }
    },
    {
      "type": "decisionTableNode",
      "content": {
        "hitPolicy": "first",
        "rules": [
          {
            "_id": "r1-1",
            "i1-1": ">= 98",
            "o1-1": "5"
          },
          {
            "_id": "r1-2",
            "i1-1": ">= 95",
            "o1-1": "4"
          },
          {
            "_id": "r1-3",
            "i1-1": ">= 90",
            "o1-1": "3"
          },
          {
            "_id": "r1-4",
            "i1-1": ">= 85",
            "o1-1": "2"
          },
          {
            "_id": "r1-5",
            "i1-1": "",
            "o1-1": "1"
          }
        ],
        "inputs": [
          {
            "id": "i1-1",
            "name": "On-Time Delivery Rate",
            "field": "metrics.onTimeDeliveryRate"
          }
        ],
        "outputs": [
          {
            "id": "o1-1",
            "name": "Score",
            "field": "scores.delivery"
          }
        ],
        "passThrough": true,
        "inputField": null,
        "outputPath": null,
        "executionMode": "single",
        "passThorough": false
      },
      "id": "dt1",
      "name": "evaluate_delivery",
      "position": {
        "x": 430,
        "y": -33
      }
    },
    {
      "type": "decisionTableNode",
      "content": {
        "hitPolicy": "first",
        "rules": [
          {
            "_id": "r2-1",
            "i2-1": ">= 4.8",
            "o2-1": "5"
          },
          {
            "_id": "r2-2",
            "i2-1": ">= 4.5",
            "o2-1": "4"
          },
          {
            "_id": "r2-3",
            "i2-1": ">= 4.0",
            "o2-1": "3"
          },
          {
            "_id": "r2-4",
            "i2-1": ">= 3.5",
            "o2-1": "2"
          },
          {
            "_id": "r2-5",
            "i2-1": "",
            "o2-1": "1"
          }
        ],
        "inputs": [
          {
            "id": "i2-1",
            "name": "Customer Satisfaction",
            "field": "metrics.customerSatisfaction"
          }
        ],
        "outputs": [
          {
            "id": "o2-1",
            "name": "Score",
            "field": "scores.customerSatisfaction"
          }
        ],
        "passThrough": true,
        "inputField": null,
        "outputPath": null,
        "executionMode": "single",
        "passThorough": false
      },
      "id": "dt2",
      "name": "evaluate_satisfaction",
      "position": {
        "x": 430,
        "y": 65
      }
    },
    {
      "type": "decisionTableNode",
      "content": {
        "hitPolicy": "first",
        "rules": [
          {
            "_id": "r3-1",
            "i3-1": ">= 99",
            "o3-1": "5"
          },
          {
            "_id": "r3-2",
            "i3-1": ">= 95",
            "o3-1": "4"
          },
          {
            "_id": "r3-3",
            "i3-1": ">= 90",
            "o3-1": "3"
          },
          {
            "_id": "r3-4",
            "i3-1": ">= 85",
            "o3-1": "2"
          },
          {
            "_id": "r3-5",
            "i3-1": "",
            "o3-1": "1"
          }
        ],
        "inputs": [
          {
            "id": "i3-1",
            "name": "Inventory Accuracy",
            "field": "metrics.inventoryAccuracy"
          }
        ],
        "outputs": [
          {
            "id": "o3-1",
            "name": "Score",
            "field": "scores.inventory"
          }
        ],
        "passThrough": true,
        "inputField": null,
        "outputPath": null,
        "executionMode": "single",
        "passThorough": false
      },
      "id": "dt3",
      "name": "evaluate_inventory",
      "position": {
        "x": 430,
        "y": 163
      }
    },
    {
      "type": "decisionTableNode",
      "content": {
        "hitPolicy": "first",
        "rules": [
          {
            "_id": "r4-1",
            "i4-1": ">= 98",
            "o4-1": "5"
          },
          {
            "_id": "r4-2",
            "i4-1": ">= 95",
            "o4-1": "4"
          },
          {
            "_id": "r4-3",
            "i4-1": ">= 90",
            "o4-1": "3"
          },
          {
            "_id": "r4-4",
            "i4-1": ">= 85",
            "o4-1": "2"
          },
          {
            "_id": "r4-5",
            "i4-1": "",
            "o4-1": "1"
          }
        ],
        "inputs": [
          {
            "id": "i4-1",
            "name": "Policy Compliance",
            "field": "metrics.policyCompliance"
          }
        ],
        "outputs": [
          {
            "id": "o4-1",
            "name": "Score",
            "field": "scores.compliance"
          }
        ],
        "passThrough": true,
        "inputField": null,
        "outputPath": null,
        "executionMode": "single",
        "passThorough": false
      },
      "id": "dt4",
      "name": "evaluate_compliance",
      "position": {
        "x": 430,
        "y": 261
      }
    },
    {
      "type": "expressionNode",
      "content": {
        "expressions": [
          {
            "id": "e1-5",
            "key": "averageScore",
            "value": "avg(values(scores))"
          },
          {
            "id": "e1-6",
            "key": "strengths",
            "value": "filter(keys(scores), scores[#] >= 4)"
          },
          {
            "id": "e1-7",
            "key": "improvements",
            "value": "filter(keys(scores), scores[#] <= 2)"
          }
        ],
        "passThrough": true,
        "inputField": null,
        "outputPath": "scores",
        "executionMode": "single"
      },
      "id": "ex1",
      "name": "aggregate_scores",
      "position": {
        "x": 750,
        "y": 114
      }
    },
    {
      "type": "decisionTableNode",
      "content": {
        "hitPolicy": "first",
        "rules": [
          {
            "_id": "r5-1",
            "i5-1": ">= 4.5",
            "o5-1": "'A'",
            "o5-2": "'Outstanding'",
            "o5-3": "'Eligible for premium seller status'"
          },
          {
            "_id": "r5-2",
            "i5-1": ">= 3.5",
            "o5-1": "'B'",
            "o5-2": "'Good'",
            "o5-3": "'Eligible for featured seller status'"
          },
          {
            "_id": "r5-3",
            "i5-1": ">= 2.5",
            "o5-1": "'C'",
            "o5-2": "'Satisfactory'",
            "o5-3": "'Standard seller privileges'"
          },
          {
            "_id": "r5-4",
            "i5-1": ">= 1.5",
            "o5-1": "'D'",
            "o5-2": "'Needs Improvement'",
            "o5-3": "'Performance improvement plan required'"
          },
          {
            "_id": "r5-5",
            "i5-1": "",
            "o5-1": "'F'",
            "o5-2": "'Poor'",
            "o5-3": "'Account review required'"
          }
        ],
        "inputs": [
          {
            "id": "i5-1",
            "name": "Average Score",
            "field": "scores.averageScore"
          }
        ],
        "outputs": [
          {
            "id": "o5-1",
            "name": "Grade",
            "field": "grade"
          },
          {
            "id": "o5-2",
            "name": "Status",
            "field": "status"
          },
          {
            "id": "o5-3",
            "name": "Action",
            "field": "recommendedAction"
          }
        ],
        "passThrough": false,
        "inputField": null,
        "outputPath": null,
        "executionMode": "single",
        "passThorough": false
      },
      "id": "dt5",
      "name": "calculate_final_grade",
      "position": {
        "x": 1070,
        "y": 114
      }
    }
  ],
  "edges": [
    {
      "id": "ed1",
      "sourceId": "ip1",
      "targetId": "dt1",
      "type": "edge"
    },
    {
      "id": "ed2",
      "sourceId": "ip1",
      "targetId": "dt2",
      "type": "edge"
    },
    {
      "id": "ed3",
      "sourceId": "ip1",
      "targetId": "dt3",
      "type": "edge"
    },
    {
      "id": "ed4",
      "sourceId": "ip1",
      "targetId": "dt4",
      "type": "edge"
    },
    {
      "id": "ed5",
      "sourceId": "dt1",
      "targetId": "ex1",
      "type": "edge"
    },
    {
      "id": "ed6",
      "sourceId": "dt2",
      "targetId": "ex1",
      "type": "edge"
    },
    {
      "id": "ed7",
      "sourceId": "dt3",
      "targetId": "ex1",
      "type": "edge"
    },
    {
      "id": "ed8",
      "sourceId": "dt4",
      "targetId": "ex1",
      "type": "edge"
    },
    {
      "id": "ed9",
      "sourceId": "ex1",
      "targetId": "dt5",
      "type": "edge"
    }
  ]
}